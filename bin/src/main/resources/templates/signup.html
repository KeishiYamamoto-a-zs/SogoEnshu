<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>

<h1 class= "text-center">新規ユーザー登録</h1>
   <form id="form-input" method="post" action="/signupUser" class="form-input" onsubmit="return confirmPassword();">
       <input type="text" th:field="${signupForm.mailaddress}" placeholder="メールアドレス"　
	   th:errorclass="is-invalid"/>
	   <div class="invalid-feedback" th:errors="*{signupForm.mailaddress}"></div>
  
       <p id="error_msg" class="font-red"></p>
        <label for="password">パスワード入力<sup class="font-red font-normal">*</sup></label>
        <input id="password" type="password" th:field="${signupForm.password}" placeholder="パスワード" required>
        
        <label for="confirm_password">再入力<sup class="font-red font-normal">*</sup></label>
        <input id="confirm_password" type="password" name="confirm_password" placeholder="パスワード" required>
        
       <div>
        <select name = "authority">
			<option th:field="${signupForm.authority}" value="farmer">農家</option>
			<option th:field="${signupForm.authority}" value="normal">一般</option>
        </select> 
       </div>
	   
	   
	   <input type="submit"value="登録"class="btn btn-primary btn-sm "/>
   </form>
   
   　　<a th:href="@{/login}">ログインはこちら</a>
   
   
  <script>
	  function confirmPassword() {
  const password = document.getElementById('password').value;
  const confirmPassword = document.getElementById('confirm_password').value;
            const errorMsg = document.getElementById('error_msg');

            if (password == confirmPassword) {
                errorMsg.innerText = "";
                return true;
            } else {
                errorMsg.innerText = "パスワードが一致しません";
                return false;
            }
        }
  </script>     
</body> 

</html>
